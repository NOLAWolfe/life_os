version: '3.8'

services:
  life-os-qa:
    build:
      context: ./Life_OS_UI
      dockerfile: Dockerfile
    container_name: life-os-qa
    ports:
      - "4001:4001"
    volumes:
      - qa-db-data:/app/prisma
    environment:
      - NODE_ENV=production
      - APP_ENV=qa
      - PORT=4001
      - DATABASE_URL=file:./dev.db
      - SEED_DATA=true
      - OBSIDIAN_API_KEY=${OBSIDIAN_API_KEY}
      - GITHUB_PERSONAL_ACCESS_TOKEN=${GITHUB_PERSONAL_ACCESS_TOKEN}
      - GOOGLE_PROJECT_ID=${GOOGLE_PROJECT_ID}
    restart: unless-stopped

volumes:
  qa-db-data: